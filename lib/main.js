var pt=Object.create;var F=Object.defineProperty;var gt=Object.getOwnPropertyDescriptor;var vt=Object.getOwnPropertyNames;var bt=Object.getPrototypeOf,yt=Object.prototype.hasOwnProperty;var fe=t=>F(t,"__esModule",{value:!0});var L=(t,e)=>()=>(t&&(e=t(t=0)),e),p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),he=(t,e)=>{for(var i in e)F(t,i,{get:e[i],enumerable:!0})},St=(t,e,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of vt(e))!yt.call(t,s)&&s!=="default"&&F(t,s,{get:()=>e[s],enumerable:!(i=gt(e,s))||i.enumerable});return t},U=t=>St(fe(F(t!=null?pt(bt(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var y,xt,It,kt,wt,Et,Ct,Lt,Mt,Pt,Dt,Tt,At,Ot,qt,Ft,Ut,me,N=L(()=>{y="local-storage",xt="./lib/main",It="0.12.3",kt="Edit items stored in Atom's localStorage",wt={build:"node ./tools/build.mjs",clean:"rimraf ./lib",dev:"npm run start","lint:md":"remark . --quiet --frail --ignore-path .gitignore","lint:js":"eslint ./src --ignore-path .gitignore",lint:"npm-run-all --parallel lint:*",start:"cross-env ESBUILD_WATCH=true node ./tools/build.mjs",test:"npm run lint"},Et=["localStorage","local storage"],Ct={type:"git",url:"https://github.com/idleberg/atom-local-storage"},Lt="https://atom.io/packages/local-storage",Mt={url:"https://github.com/idleberg/atom-local-storage/issues"},Pt="MIT",Dt={atom:">=1.0.0 <2.0.0"},Tt={"atom-workspace":["local-storage:open-item","local-storage:remove-item","local-storage:save-item"]},At=["core:loaded-shell-environment"],Ot={},qt={"@atxm/developer-console":"^0.5.0","@types/atom":"^1.40.10","@types/node":"^15.6.1","@typescript-eslint/eslint-plugin":"^4.25.0","@typescript-eslint/parser":"^4.25.0","atom-select-list":"^0.8.1","cross-env":"^7.0.3",esbuild:"^0.12.5",eslint:"^7.27.0","eslint-plugin-json":"^3.0.0",husky:"^4.3.8","lint-staged":"^11.0.0","npm-run-all":"^4.1.5","remark-cli":"^9.0.0",rimraf:"^3.0.2",tslib:"^2.2.0",typescript:"^4.3.2"},Ft={hooks:{"pre-commit":"npm run lint"}},Ut={"*.ts":"eslint --cache --fix","*.json":"jsonlint --quiet"},me={name:y,main:xt,version:It,description:kt,scripts:wt,keywords:Et,repository:Ct,homepage:Lt,bugs:Mt,license:Pt,engines:Dt,activationCommands:Tt,activationHooks:At,dependencies:Ot,devDependencies:qt,husky:Ft,"lint-staged":Ut}});var k,Q=L(()=>{N();k={schema:{detectJson:{title:"Auto-detect JSON",description:"If the the opened item is valid JSON, prettifies output and applies syntax highlighter",type:"boolean",default:!0,order:1},displayIcon:{title:"Display Icon",description:"Displays icons in list view for improved visual grepping",type:"boolean",default:!0,order:2},displayBadge:{title:"Display Badge",description:"Displays badge showing item details, e.g. character length",type:"boolean",default:!0,order:3},highlightEditPane:{title:"Highlight Edit Pane",description:"Sets a background color to the editor pane",type:"boolean",default:!0,order:4},hideCloseIcon:{title:"Hide Close Icon",description:"Hides close icon of the editor pane",type:"boolean",default:!0,order:5},filteredItems:{title:"Filtered Items",type:"object",order:6,properties:{installedPackages:{title:"Installed Packages",description:"Filter all keys in your storage starting with `installed-packages:`",type:"boolean",default:!0,order:1},settingsView:{title:"Settings View",description:"Filter all keys in your storage starting with `settings-view:`",type:"boolean",default:!0,order:2},treeView:{title:"Tree View",description:"Filter all keys in your storage starting with `tree-view:`",type:"boolean",default:!0,order:3},releaseNotes:{title:"Release Notes",description:"Filter all keys in your storage starting with `release-notes:`",type:"boolean",default:!0,order:4},metricsID:{title:"Metrics User ID",description:"Filter storage key for `metrics.userId`",type:"boolean",default:!0,order:5},emptyItems:{title:"Empty Items",description:"Filter all zero-length strings, empty array and objects",type:"boolean",default:!0,order:6},nullItems:{title:"Null Items",description:"Filter all null items",type:"boolean",default:!0,order:7}}}},get(t=""){return t?.length?atom.config.get(`${y}.${t}`):atom.config.get(`${y}`)},migrate(t,e){if(!(!atom.config.get(`${y}.${t}`)||atom.config.get(`${y}.${e}`))){try{atom.config.set(`${y}.${e}`,atom.config.get(`${y}.${t}`))}catch(i){atom.notifications.addWarning("Failed to migrate configuration, see console for details");return}atom.config.unset(`${y}.${t}`)}},unset(t=""){let e=t?.length?`${y}.${t}`:y;atom.config.unset(e)},async open(t={}){t={pending:!0,searchAllPanes:!0,...t},await atom.workspace.open(`atom://config/packages/${y}`,t)}}});function M(t,e){for(var i=0,s=e.length,n=t.length;i<s;i++,n++)t[n]=e[i];return t}var $t,pe,ge=L(()=>{$t=function(){function t(e){e===void 0&&(e={}),this.name=e.name,this.styleSheet=`
      background-color: `+(e.backgroundColor||"darkgrey")+`;
      border-radius: 2px;
      color: `+(e.color||"white")+`;
      line-height: 1.5;
      padding: 1px 4px;
      text-shadow: 0 1px 0px rgba(0, 0, 0, 0.2);
    `}return t.prototype.__console__=function(e){for(var i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];!(atom==null?void 0:atom.inDevMode())||(s.unshift("%c"+this.name+"%c",this.styleSheet,""),(i=window.console)[e].apply(i,s))},t.prototype.debug=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.__console__.apply(this,M(["debug"],e))},t.prototype.error=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.__console__.apply(this,M(["error"],e))},t.prototype.info=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.__console__.apply(this,M(["info"],e))},t.prototype.log=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.__console__.apply(this,M(["log"],e))},t.prototype.trace=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.__console__.apply(this,M(["trace"],e))},t.prototype.warn=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];this.__console__.apply(this,M(["warn"],e))},t}(),pe=$t});var S,W=L(()=>{N();ge();S=new pe({name:me.name,backgroundColor:"hotpink"})});var G=p((Ai,ve)=>{ve.exports={onCopy:"copy",onCut:"cut",onPaste:"paste",onCompositionEnd:"compositionend",onCompositionStart:"compositionstart",onCompositionUpdate:"compositionupdate",onKeyDown:"keydown",onKeyPress:"keypress",onKeyUp:"keyup",onFocus:"focus",onBlur:"blur",onChange:"change",onInput:"input",onSubmit:"submit",onClick:"click",onContextMenu:"contextmenu",onDoubleClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragEnter:"dragenter",onDragExit:"dragexit",onDragLeave:"dragleave",onDragOver:"dragover",onDragStart:"dragstart",onDrop:"drop",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onSelect:"select",onTouchCancel:"touchcancel",onTouchEnd:"touchend",onTouchMove:"touchmove",onTouchStart:"touchstart",onScroll:"scroll",onWheel:"wheel",onAbort:"abort",onCanPlay:"canplay",onCanPlayThrough:"canplaythrough",onDurationChange:"durationchange",onEmptied:"emptied",onEncrypted:"encrypted",onEnded:"ended",onError:"error",onLoadedData:"loadeddata",onLoadedMetadata:"loadedmetadata",onLoadStart:"loadstart",onPause:"pause",onPlay:"play",onPlaying:"playing",onProgress:"progress",onRateChange:"ratechange",onSeeked:"seeked",onSeeking:"seeking",onStalled:"stalled",onSuspend:"suspend",onTimeUpdate:"timeupdate",onVolumeChange:"volumechange",onWaiting:"waiting",onLoad:"load",onAnimationStart:"animationstart",onAnimationEnd:"animationend",onAnimationIteration:"animationiteration",onTransitionEnd:"transitionend"}});var $=p((Oi,be)=>{be.exports=new Set(["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"])});var Se=p((qi,ye)=>{var Ht=G(),Rt=$();function D(t,e,...i){let s=[];for(let n=0;n<i.length;){let r=i[n];switch(typeof r){case"string":case"number":i[n]={text:r},n++;break;case"object":Array.isArray(r)?i.splice(n,1,...r):r?(r.context||(s.push(r),r.ambiguous&&r.ambiguous.length&&(s=s.concat(r.ambiguous))),n++):i.splice(n,1);break;default:throw new Error(`Invalid child node: ${r}`)}}if(e){for(let n in e){let r=Ht[n];r&&(e.on||(e.on={}),e.on[r]=e[n])}e.class&&(e.className=e.class)}return{tag:t,props:e,children:i,ambiguous:s}}var jt=["a","abbr","address","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","html","i","iframe","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","noscript","object","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","var","video","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];for(let t of jt)D[t]=(e,...i)=>D(t,e,...i);for(let t of Rt)D[t]=(e,...i)=>D(t,e,...i);ye.exports=D});var Ie=p((Fi,xe)=>{xe.exports=new Map([["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["className","class"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["panose1","panose-1"],["paintOrder","paint-order"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xHeight","x-height"]])});var J=p((Ui,ke)=>{ke.exports=function(e,i,s,n){s!==i&&(typeof i=="function"?i(null):i&&n[i]===e&&delete n[i],typeof s=="function"?s(e):s&&(n[s]=e))}});var K=p(($i,De)=>{var we=G(),Ee=$(),Ce=Ie(),Le="",Bt=J();De.exports=function(t,e,i,s){let n=e&&e.props,r=i.props,o,a;s&&(o=s.refs,a=s.listenerContext),Me(t,e,n,i,r),o&&Bt(t,n&&n.ref,r&&r.ref,o),zt(t,e,i,a)};function Me(t,e,i,s,n){if(i)for(var r in i)r==="ref"||r==="on"||r in we||(!n||!(r in n))&&(r==="dataset"?Me(t.dataset,null,i&&i.dataset,null,null):r!=="innerHTML"&&e&&Ee.has(e.tag)?t.removeAttribute(Ce.get(r)||r):(t[r]=Le,delete t[r]));if(n){for(var r in n)if(!(r==="ref"||r==="on")&&!(r in we)){var o=i&&i[r],a=n[r];r==="dataset"?Pe(t.dataset,o,a,!1):r==="style"&&typeof a!="string"?(typeof o=="string"&&(t.style="",o=null),Pe(t.style,o,a,!0)):r==="attributes"?_t(t,o,a):a!==o&&(r!=="innerHTML"&&s&&Ee.has(s.tag)?t.setAttribute(Ce.get(r)||r,a):s&&s.tag==="input"&&r==="value"&&t[r]===a||(t[r]=a))}}}function Pe(t,e,i,s){if(e)for(var n in e)(!i||!(n in i))&&(s?t[n]=Le:delete t[n]);if(i)for(var n in i){let o=e&&e[n],a=i[n];a!==o&&(t[n]=a)}}function _t(t,e,i){if(e)for(var s in e)(!i||!(s in i))&&t.removeAttribute(s);if(i)for(var s in i){let r=e&&e[s],o=i[s];o!==r&&t.setAttribute(s,o)}}function zt(t,e,i,s){let n=e&&e.props&&e.props.on,r=i.props&&i.props.on;for(let o in n)if(!(r&&o in r)){let a;e&&e.boundListeners&&e.boundListeners[o]?a=e.boundListeners[o]:a=n[o],t.removeEventListener(o,a)}for(let o in r){let a=n&&n[o],l=r[o];if(l!==a){if(a){let c;e&&e.boundListeners&&e.boundListeners[o]?c=e.boundListeners[o]:c=a,t.removeEventListener(o,c)}if(l){let c;s?(c=l.bind(s),i.boundListeners||(i.boundListeners={}),i.boundListeners[o]=c):c=l,t.addEventListener(o,c)}}}}});var H=p((Hi,qe)=>{var Te=K(),Nt=$();function Ae(t,e){let i;if(t.text!=null)i=document.createTextNode(t.text);else{let{tag:s,children:n}=t,{props:r,context:o}=t;if(o&&(e={refs:o.refs,listenerContext:o}),typeof s=="function"){let a;r&&r.ref&&(a=r.ref);let l=new s(r||{},n);t.component=l,i=l.element,typeof a=="function"?a(l):e&&e.refs&&a&&(e.refs[a]=l)}else Nt.has(s)?(i=document.createElementNS("http://www.w3.org/2000/svg",s),n&&Oe(i,n,e),r&&Te(i,null,t,e)):(i=document.createElement(s),n&&Oe(i,n,e),r&&Te(i,null,t,e))}return t.domNode=i,i}function Oe(t,e,i){for(let s=0;s<e.length;s++)t.appendChild(Ae(e[s],i))}qe.exports=Ae});var Ue=p((Ri,Fe)=>{var X=H(),Qt=K(),Wt=J();function P(t,e,i){let s=t.domNode;if(e===t)return s;if(T(t,e)){let n;return e.text!=null?(s.nodeValue=e.text,n=s):typeof e.tag=="function"?n=Gt(t,e,i):(Jt(s,t.children,e.children,i),Qt(s,t,e,i),n=s),e.domNode=n,n!==s&&s.parentNode&&s.parentNode.replaceChild(n,s),n}else{let n=s.parentNode,r=s.nextSibling;Z(t,i&&i.refs);let o=X(e,i);return n&&n.insertBefore(o,r),e.domNode=o,o}}function Gt(t,e,i){let{component:s,props:n}=t,{props:r,children:o}=e;e.component=s;let a=i&&i.refs;return a&&Wt(s,n&&n.ref,r&&r.ref,a),s.update(r||{},o),s.element}var Y=[new Map,new Map,new Map,new Map];function Jt(t,e,i,s){for(var n=0,r=e.length-1,o=e[0],a=e[r],l=0,c=i.length-1,d=i[0],u=i[c],f;n<=r&&l<=c;)if(!o)o=e[++n];else if(!a)a=e[--r];else if(T(o,d))P(o,d,s),o=e[++n],d=i[++l];else if(T(a,u))P(a,u,s),a=e[--r],u=i[--c];else if(T(o,u))P(o,u,s),t.insertBefore(o.domNode,a.domNode.nextSibling),o=e[++n],u=i[--c];else if(T(a,d))P(a,d,s),t.insertBefore(a.domNode,o.domNode),a=e[--r],d=i[++l];else{f||(Y.length>0?(f=Y.pop(),f.clear()):f=new Map,Kt(f,e,n,r));var b=R(d),g=b?f.get(b):null;if(g==null)t.insertBefore(X(d,s),o.domNode),d=i[++l];else{var h=e[g];P(h,d,s),e[g]=void 0,t.insertBefore(h.domNode,o.domNode),d=i[++l]}}if(n>r){var v=i[c+1]?i[c+1].domNode:null;for(let E=l;E<=c;E++)t.insertBefore(X(i[E],s),v)}else if(l>c)for(let E=n;E<=r;E++){var w=e[E];w&&Z(w,s&&s.refs)}f&&Y.push(f)}function Z(t,e,i=!0){let{domNode:s,props:n,children:r,component:o}=t,a=n&&n.ref;if(o)typeof a=="function"?a(null):e&&a&&e[a]===o&&delete e[a],o.destroy&&o.destroy();else if(typeof a=="function"?a(null):e&&a&&e[a]===s&&delete e[a],r)for(let l=0;l<r.length;l++)Z(r[l],e,!1);i&&s.remove()}function T(t,e){return R(t)===R(e)&&t.tag===e.tag}function R(t){return t.props?t.props.key:void 0}function Kt(t,e,i,s){for(let n=i;n<=s;n++){let r=R(e[n]);r&&t.set(r,n)}return t}Fe.exports=P});var He=p((Bi,$e)=>{$e.exports=class{constructor(){this.updateRequests=[],this.readRequests=[],this.pendingAnimationFrame=null,this.performUpdates=this.performUpdates.bind(this),this.performingUpdates=!1}updateDocument(e){this.updateRequests.push(e),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}readDocument(e){this.readRequests.push(e),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}getNextUpdatePromise(){return this.nextUpdatePromise||(this.nextUpdatePromise=new Promise(e=>{this.resolveNextUpdatePromise=e})),this.nextUpdatePromise}performUpdates(){for(;this.updateRequests.length>0;)this.updateRequests.shift()();for(this.pendingAnimationFrame=null;this.readRequests.length>0;)this.readRequests.shift()();if(this.nextUpdatePromise){let e=this.resolveNextUpdatePromise;this.nextUpdatePromise=null,this.resolveNextUpdatePromise=null,e()}}}});var ee=p((_i,V)=>{var Xt=He(),j=null;V.exports.setScheduler=function(e){j=e};V.exports.getScheduler=function(){return j||(j=new Xt),j}});var _e=p((zi,Be)=>{var Yt=H(),Zt=Ue(),{getScheduler:te}=ee(),ie=new WeakSet,B=0,_=0;function se(t){return t!=null&&t!==!1}function Re(t,e){e.context=t,e.ambiguous&&(e.ambiguous.forEach(i=>{i.context=t}),delete e.ambiguous)}function Vt(t){if(typeof t.update!="function")throw new Error("Etch components must implement `update(props, children)`.");let e=t.render();if(!se(e)){let i=t.constructor&&t.constructor.name?" in "+t.constructor.name:"";throw new Error("invalid falsy value "+e+" returned from render()"+i)}Re(t,e),t.refs={},t.virtualNode=e,t.element=Yt(t.virtualNode,{refs:t.refs,listenerContext:t})}function ei(t,e=!0){if(B>0)return ne(t,e),Promise.resolve();let i=te();return ie.has(t)||(ie.add(t),i.updateDocument(function(){ie.delete(t),ne(t,e)})),i.getNextUpdatePromise()}function ne(t,e=!0){if(!se(t.virtualNode))throw new Error(`${t.constructor?t.constructor.name+" instance":t} is not associated with a valid virtualNode. Perhaps this component was never initialized?`);if(t.element==null)throw new Error(`${t.constructor?t.constructor.name+" instance":t} is not associated with a DOM element. Perhaps this component was never initialized?`);let i=t.render();if(!se(i)){let o=t.constructor&&t.constructor.name?" in "+t.constructor.name:"";throw new Error("invalid falsy value "+i+" returned from render()"+o)}Re(t,i),B++;let s=t.virtualNode,n=t.element,r=Zt(s,i,{refs:t.refs,listenerContext:t});if(t.virtualNode=i,r!==n&&!e)throw new Error("The root node type changed on update, but the update was performed with the replaceNode option set to false");t.element=r,typeof t.writeAfterUpdate=="function"&&t.writeAfterUpdate(),typeof t.readAfterUpdate=="function"&&te().readDocument(function(){t.readAfterUpdate()}),B--}function ti(t,e=!0){if(B>0||_>0)return re(t,e),Promise.resolve();let i=te();return i.updateDocument(function(){re(t,e)}),i.getNextUpdatePromise()}function re(t,e=!0){_++,je(t.virtualNode),_===1&&e&&t.element.remove(),_--}function je(t){t.component&&typeof t.component.destroy=="function"?t.component.destroy():t.children&&t.children.forEach(je)}Be.exports={initialize:Vt,update:ei,updateSync:ne,destroy:ti,destroySync:re}});var Ne=p((Ni,ze)=>{var ii=Se(),si=H(),{initialize:ni,update:ri,updateSync:oi,destroy:ai,destroySync:li}=_e(),{setScheduler:ci,getScheduler:di}=ee();ze.exports={dom:ii,render:si,initialize:ni,update:ri,updateSync:oi,destroy:ai,destroySync:li,setScheduler:ci,getScheduler:di}});var oe=p(A=>{(function(){var t,e;t=require("path").sep,A.basenameScore=function(i,s,n){var r,o,a,l,c,d;for(a=i.length-1;i[a]===t;)a--;for(d=0,l=a,r=null;a>=0;)i[a]===t?(d++,r==null&&(r=i.substring(a+1,l+1))):a===0&&(l<i.length-1?r==null&&(r=i.substring(0,l+1)):r==null&&(r=i)),a--;return r===i?n*=2:r&&(n+=A.score(r,s)),c=d+1,o=Math.max(1,10-c),n*=o*.01,n},A.score=function(i,s){var n,r,o,a,l,c,d,u,f,b,g,h;if(i===s||e(i,s))return 1;for(b=0,d=s.length,f=i.length,o=0,a=0;o<d;){if(n=s[o++],l=i.indexOf(n.toLowerCase()),g=i.indexOf(n.toUpperCase()),c=Math.min(l,g),c===-1&&(c=Math.max(l,g)),a=c,a===-1)return 0;r=.1,i[a]===n&&(r+=.1),a===0||i[a-1]===t?r+=.8:((h=i[a-1])==="-"||h==="_"||h===" ")&&(r+=.7),i=i.substring(a+1,f),b+=r}return u=b/d,(u*(d/f)+u)/2},e=function(i,s){if(i[i.length-s.length-1]===t)return i.lastIndexOf(s)===i.length-s.length}}).call(A)});var Ge=p((Qe,We)=>{(function(){var t,e,i;e=oe(),t=function(s){return s.candidate},i=function(s,n){return n.score-s.score},We.exports=function(s,n,r,o){var a,l,c,d,u,f,b,g,h;if(h=o??{},l=h.key,c=h.maxResults,n){for(u=[],b=0,g=s.length;b<g;b++)a=s[b],f=l!=null?a[l]:a,!!f&&(d=e.score(f,n,r),r||(d=e.basenameScore(f,n,d)),d>0&&u.push({candidate:a,score:d}));u.sort(i),s=u.map(t)}return c!=null&&(s=s.slice(0,c)),s}}).call(Qe)});var Je=p(O=>{(function(){var t;t=require("path").sep,O.basenameMatch=function(e,i){var s,n,r,o;for(n=e.length-1;e[n]===t;)n--;for(o=0,r=n,s=null;n>=0;)e[n]===t?(o++,s==null&&(s=e.substring(n+1,r+1))):n===0&&(r<e.length-1?s==null&&(s=e.substring(0,r+1)):s==null&&(s=e)),n--;return O.match(s,i,e.length-s.length)},O.match=function(e,i,s){var n,r,o,a,l,c,d,u,f,b,g,h;if(s==null&&(s=0),e===i)return function(){h=[];for(var v=s,w=s+e.length;s<=w?v<w:v>w;s<=w?v++:v--)h.push(v);return h}.apply(this);for(d=i.length,u=e.length,r=0,o=0,l=[];r<d;){if(n=i[r++],a=e.indexOf(n.toLowerCase()),f=e.indexOf(n.toUpperCase()),c=Math.min(a,f),c===-1&&(c=Math.max(a,f)),o=c,o===-1)return[];l.push(s+o),s+=o+1,e=e.substring(o+1,u)}return l}}).call(O)});var Ye=p((Ke,Xe)=>{(function(){var t,e,i,s,n;n=oe(),i=Ge(),s=Je(),t=require("path").sep,e=/\ /g,Xe.exports={filter:function(r,o,a){var l;return o&&(l=o.indexOf(t)!==-1,o=o.replace(e,"")),i(r,o,l,a)},score:function(r,o){var a,l;return!r||!o?0:r===o?2:(a=o.indexOf(t)!==-1,o=o.replace(e,""),l=n.score(r,o),a||(l=n.basenameScore(r,o,l)),l)},match:function(r,o){var a,l,c,d,u,f,b,g;if(!r)return[];if(!o)return[];if(r===o)return function(){g=[];for(var h=0,v=r.length;0<=v?h<v:h>v;0<=v?h++:h--)g.push(h);return g}.apply(this);if(d=o.indexOf(t)!==-1,o=o.replace(e,""),c=s.match(r,o),!d)for(a=s.basenameMatch(r,o),c=c.concat(a).sort(function(h,v){return h-v}),u=null,l=0;l<c.length;)l&&u===c[l]?c.splice(l,1):(u=c[l],l++);return c}}}).call(Ke)});var tt=p((q,et)=>{"use strict";var Ze=q&&q.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(q,"__esModule",{value:!0});var z=require("atom"),x=Ze(Ne()),I=x.default.dom,ui=Ze(Ye()),ae=class{constructor(e){this.props=e,this.props.hasOwnProperty("initialSelectionIndex")||(this.props.initialSelectionIndex=0),e.initiallyVisibleItemCount&&this.initializeVisibilityObserver(),this.computeItems(!1),this.disposables=new z.CompositeDisposable,x.default.initialize(this),this.element.classList.add("select-list"),this.disposables.add(this.refs.queryEditor.onDidChange(this.didChangeQuery.bind(this))),e.skipCommandsRegistration||this.disposables.add(this.registerAtomCommands());let i=this.refs.queryEditor.element,s=this.didLoseFocus.bind(this);i.addEventListener("blur",s),this.didClickItemsList=!1,this.element.addEventListener("mousedown",n=>{n.target===this.refs.items&&(this.didClickItemsList=!0)}),this.disposables.add(new z.Disposable(()=>{i.removeEventListener("blur",s)}))}static setScheduler(e){x.default.setScheduler(e)}static getScheduler(){return x.default.getScheduler()}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{for(let i of e)if(i.intersectionRatio>0){let s=i.target;this.visibilityObserver.unobserve(s);let n=Array.from(this.refs.items.children).indexOf(s);n>=0&&this.renderItemAtIndex(n)}})}focus(){this.refs.queryEditor.element.focus()}didLoseFocus(e){this.didClickItemsList||this.element.contains(e.relatedTarget)?(this.didClickItemsList=!1,this.refs.queryEditor.element.focus()):document.hasFocus()&&this.cancelSelection()}reset(){this.refs.queryEditor.setText("")}destroy(){return this.disposables.dispose(),this.visibilityObserver&&this.visibilityObserver.disconnect(),x.default.destroy(this)}registerAtomCommands(){return atom.commands.add(this.element,{"core:move-up":e=>{this.selectPrevious(),e.stopPropagation()},"core:move-down":e=>{this.selectNext(),e.stopPropagation()},"core:move-to-top":e=>{this.selectFirst(),e.stopPropagation()},"core:move-to-bottom":e=>{this.selectLast(),e.stopPropagation()},"core:confirm":e=>{this.confirmSelection(),e.stopPropagation()},"core:cancel":e=>{this.cancelSelection(),e.stopPropagation()}})}update(e){let i=!1;return"items"in e&&(this.props.items=e.items,i=!0),"maxResults"in e&&(this.props.maxResults=e.maxResults,i=!0),"filter"in e&&(this.props.filter=e.filter,i=!0),"filterQuery"in e&&(this.props.filterQuery=e.filterQuery,i=!0),"query"in e&&(this.refs.queryEditor.setText(e.query),i=!1),"selectQuery"in e&&(e.selectQuery?this.refs.queryEditor.selectAll():this.refs.queryEditor.clearSelections()),"order"in e&&(this.props.order=e.order),"emptyMessage"in e&&(this.props.emptyMessage=e.emptyMessage),"errorMessage"in e&&(this.props.errorMessage=e.errorMessage),"infoMessage"in e&&(this.props.infoMessage=e.infoMessage),"loadingMessage"in e&&(this.props.loadingMessage=e.loadingMessage),"loadingBadge"in e&&(this.props.loadingBadge=e.loadingBadge),"itemsClassList"in e&&(this.props.itemsClassList=e.itemsClassList),"initialSelectionIndex"in e&&(this.props.initialSelectionIndex=e.initialSelectionIndex),i&&this.computeItems(),x.default.update(this)}render(){return I.div({},I(z.TextEditor,{ref:"queryEditor",mini:!0}),this.renderLoadingMessage(),this.renderInfoMessage(),this.renderErrorMessage(),this.renderItems())}renderItems(){if(this.items.length>0){let e=["list-group"].concat(this.props.itemsClassList||[]).join(" ");return this.visibilityObserver&&x.default.getScheduler().updateDocument(()=>{Array.from(this.refs.items.children).slice(this.props.initiallyVisibleItemCount).forEach(i=>{this.visibilityObserver.observe(i)})}),this.listItems=this.items.map((i,s)=>{let n=this.getSelectedItem()===i,r=!this.props.initiallyVisibleItemCount||s<this.props.initiallyVisibleItemCount;return I(Ve,{element:this.props.elementForItem(i,{selected:n,index:s,visible:r}),selected:n,onclick:()=>this.didClickItem(s)})}),I.ol({className:e,ref:"items"},...this.listItems)}else return!this.props.loadingMessage&&this.props.emptyMessage?I.span({ref:"emptyMessage"},this.props.emptyMessage):""}renderErrorMessage(){return this.props.errorMessage?I.span({ref:"errorMessage"},this.props.errorMessage):""}renderInfoMessage(){return this.props.infoMessage?I.span({ref:"infoMessage"},this.props.infoMessage):""}renderLoadingMessage(){return this.props.loadingMessage?I.div({className:"loading"},I.span({ref:"loadingMessage",className:"loading-message"},this.props.loadingMessage),this.props.loadingBadge?I.span({ref:"loadingBadge",className:"badge"},this.props.loadingBadge):""):""}getQuery(){return this.refs&&this.refs.queryEditor?this.refs.queryEditor.getText():""}getFilterQuery(){return this.props.filterQuery?this.props.filterQuery(this.getQuery()):this.getQuery()}didChangeQuery(){this.props.didChangeQuery&&this.props.didChangeQuery(this.getFilterQuery()),this.computeItems()}didClickItem(e){this.selectIndex(e),this.confirmSelection()}computeItems(e){this.listItems=null,this.visibilityObserver&&this.visibilityObserver.disconnect();let i=this.props.filter||this.fuzzyFilter.bind(this);this.items=i(this.props.items.slice(),this.getFilterQuery()),this.props.order&&this.items.sort(this.props.order),this.props.maxResults&&(this.items=this.items.slice(0,this.props.maxResults)),this.selectIndex(this.props.initialSelectionIndex,e)}fuzzyFilter(e,i){if(i.length===0)return e;{let s=[];for(let n of e){let r=this.props.filterKeyForItem?this.props.filterKeyForItem(n):n,o=ui.default.score(r,i);o>0&&s.push({item:n,score:o})}return s.sort((n,r)=>r.score-n.score),s.map(n=>n.item)}}getSelectedItem(){return this.selectionIndex===void 0?null:this.items[this.selectionIndex]}renderItemAtIndex(e){let i=this.items[e],s=this.getSelectedItem()===i,n=this.listItems[e].component;this.visibilityObserver&&this.visibilityObserver.unobserve(n.element),n.update({element:this.props.elementForItem(i,{selected:s,index:e,visible:!0}),selected:s,onclick:()=>this.didClickItem(e)})}selectPrevious(){return this.selectionIndex===void 0?this.selectLast():this.selectIndex(this.selectionIndex-1)}selectNext(){return this.selectionIndex===void 0?this.selectFirst():this.selectIndex(this.selectionIndex+1)}selectFirst(){return this.selectIndex(0)}selectLast(){return this.selectIndex(this.items.length-1)}selectNone(){return this.selectIndex(void 0)}selectIndex(e,i=!0){e>=this.items.length?e=0:e<0&&(e=this.items.length-1);let s=this.selectionIndex;return this.selectionIndex=e,e!==void 0&&this.props.didChangeSelection&&this.props.didChangeSelection(this.getSelectedItem()),i?this.listItems?(s>=0&&this.renderItemAtIndex(s),e>=0&&this.renderItemAtIndex(e),x.default.getScheduler().getNextUpdatePromise()):x.default.update(this):Promise.resolve()}selectItem(e){let i=this.items.indexOf(e);if(i===-1)throw new Error("Cannot select the specified item because it does not exist.");return this.selectIndex(i)}confirmSelection(){let e=this.getSelectedItem();e!=null?this.props.didConfirmSelection&&this.props.didConfirmSelection(e):this.props.didConfirmEmptySelection&&this.props.didConfirmEmptySelection()}cancelSelection(){this.props.didCancelSelection&&this.props.didCancelSelection()}};q.default=ae;et.exports=ae;var Ve=class{constructor(e){this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.didClick=this.didClick.bind(this),this.selected=e.selected,this.onclick=e.onclick,this.element=e.element,this.element.addEventListener("mousedown",this.mouseDown),this.element.addEventListener("mouseup",this.mouseUp),this.element.addEventListener("click",this.didClick),this.selected&&this.element.classList.add("selected"),this.domEventsDisposable=new z.Disposable(()=>{this.element.removeEventListener("mousedown",this.mouseDown),this.element.removeEventListener("mouseup",this.mouseUp),this.element.removeEventListener("click",this.didClick)}),x.default.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))}mouseDown(e){e.preventDefault()}mouseUp(e){e.preventDefault()}didClick(e){e.preventDefault(),this.onclick()}destroy(){this.element.remove(),this.domEventsDisposable.dispose()}update(e){this.element.removeEventListener("mousedown",this.mouseDown),this.element.removeEventListener("mouseup",this.mouseUp),this.element.removeEventListener("click",this.didClick),this.element.parentNode.replaceChild(e.element,this.element),this.element=e.element,this.element.addEventListener("mousedown",this.mouseDown),this.element.addEventListener("mouseup",this.mouseUp),this.element.addEventListener("click",this.didClick),e.selected&&this.element.classList.add("selected"),this.selected=e.selected,this.onclick=e.onclick,x.default.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))}scrollIntoViewIfNeeded(){this.selected&&this.element.scrollIntoViewIfNeeded(!1)}}});var st={};he(st,{selectListView:()=>fi});async function fi(t){let e,i=document.activeElement;try{return await new Promise(s=>{let n=new it.default({items:t,elementForItem:r=>{let o=document.createElement("li");return o.innerHTML=rt(r),o},didCancelSelection:()=>{s()},didConfirmSelection:r=>{s(r)}});e=atom.workspace.addModalPanel({item:n,visible:!0}),n.focus()})}finally{e&&e.destroy(),i&&i.focus()}}var it,nt=L(()=>{it=U(tt());le()});async function ce(t){let{selectListView:e}=await Promise.resolve().then(()=>(nt(),st)),i=Object.keys(localStorage).filter(n=>vi(n));if(i===void 0)return;let s=await e(i);if(s!==void 0)switch(t){case"open":hi(s);break;case"remove":mi(s);break;default:break}}function hi(t){let e=xi()?t:(0,at.join)((0,ot.tmpdir)(),t);atom.workspace.open(e).then(i=>{S.log(`Opening '${t}' from localStorage`);let s=localStorage.getItem(t);if(!!s){if(k.get("detectJson")){let n;try{n=JSON.parse(s)}catch(r){S.warn(`"${s}" is not an object`)}typeof n=="object"&&(i.setGrammar(atom.grammars.grammarForScopeName("source.json")),s=JSON.stringify(JSON.parse(s),null,2))}i.setText(s),k.get("hideCloseIcon")&&ut(i),pi(i)}}).catch(i=>{atom.notifications.addError(i.toString(),{dismissable:!0})})}function de(){let t=atom.workspace.getActiveTextEditor();if(t==null)return atom.beep();let e=t.getTitle(),i=t.getText();if(t.getGrammar().scopeName==="source.json"&&(i=JSON.stringify(JSON.parse(i))),localStorage.getItem(e))return S.log(`Saving '${e}' in localStorage`),localStorage.setItem(e,i);{let n=atom.notifications.addInfo(`The item \`${e}\` is currently not in your localStorage. Are you sure you want to create a new item?`,{dismissable:!0,buttons:[{text:"Create Item",className:"icon icon-file-add",onDidClick:()=>{S.log(`Creating '${e}' in localStorage`),localStorage.setItem(e,i),n.dismiss()}},{text:"Cancel",onDidClick:()=>n.dismiss()}]})}}function mi(t){let e=atom.notifications.addWarning(`Do you really want to delete \`${t}\` from your localStorage?`,{dismissable:!0,buttons:[{text:"Remove Item",className:"icon icon-trashcan",onDidClick:()=>{S.log(`Removing '${t}' from localStorage`),localStorage.removeItem(t),e.dismiss()}},{text:"Cancel",onDidClick:()=>e.dismiss()}]})}function pi(t){if(!t)return atom.beep();C.includes(t.id)||C.push(t.id);let e=document.createElement("atom-panel");e.classList.add("padded"),k.get("highlightEditPane")&&e.classList.add("bg-primary"),e.setAttribute("data-local-storage",t.id.toString()),e.insertAdjacentHTML("beforeend",`
    <div class='block'>
      <span class="inline-block-tight">
        <i class="icon icon-alert"></i>
        To save changes back to localStorage, make sure to use the controls on the right
      </span>
      <div class="inline-block-tight pull-right">
        <button id="local-storage--save" class="btn btn-primary icon icon-database">Save</button>
        <button id="local-storage--close" class="btn btn-default">Close</button>
      </div>
    </div>
  `),e.querySelector("#local-storage--save").addEventListener("click",de),e.querySelector("#local-storage--close").addEventListener("click",()=>{let n=t.getGrammar().scopeName,r=t.getText(),o=localStorage.getItem(t.getTitle());if(n==="source.json"){if(JSON.stringify(JSON.parse(r),null,0)===o)return ue(t)}else if(r===o)return ue(t);let a=atom.notifications.addInfo("This localStorage item has changes, do you really want to discard them?",{dismissable:!0,buttons:[{text:"Discard Changes",className:"icon icon-trashcan",onDidClick:()=>{S.log(`Closing editor #${t.id}`),ue(t),a.dismiss()}},{text:"Cancel",onDidClick:()=>a.dismiss()}]})}),atom.workspace.addBottomPanel({item:e}),atom.workspace.onDidChangeActiveTextEditor(n=>lt(n)),t.onDidDestroy(()=>{ct(t.id)}),lt(t)}function lt(t){if(gi(),!t)return;let e=document.querySelector(`[data-local-storage="${t.id}"]`);if(e&&e.parentNode){let i=e.parentNode;i&&(i.style.display=t&&C.includes(t.id)?"block":"none")}}function ct(t){let e=document.querySelector(`[data-local-storage="${t}"`);e&&e.parentNode&&(S.log("Removing panel"),e.parentNode.removeChild(e))}function gi(){let t=document.querySelectorAll("[data-local-storage]");t.length&&Array.from(t).map(e=>{let i=e.parentNode;i&&(i.style.display="none")})}function vi(t){let{installedPackages:e,settingsView:i,treeView:s,releaseNotes:n,metricsID:r,emptyItems:o,nullItems:a}=k.get("filteredItems"),l=localStorage.getItem(t)||"";return(e===!1||!t.startsWith("installed-packages:"))&&(i===!1||!t.startsWith("settings-view:"))&&(s===!1||!t.startsWith("tree-view:"))&&(n===!1||!t.startsWith("release-notes:"))&&(r===!1||t!=="metrics.userId")&&(o===!1||!["[]","{}",""].includes(l))&&(a===!1||l!=="null")?!0:(S.log(`Skipping '${t}'`),!1)}function ue(t){let e=C.indexOf(t.id);C.splice(e,1),ct(t.id),t.destroy()}function rt(t){let e=localStorage.getItem(t),i=bi(t);if(k.get("displayBadge")){let s=yi(e),n=Si(e);return`
      ${i}
      <div class="pull-right">
        <code class="badge badge-${s}">${n}</code>
      </div>
    `}return`${i}`}function bi(t){if(!k.get("displayIcon"))return t;let e;return t.startsWith("installed-packages:")?e="package":t.startsWith("settings-view:")?e="tools":t.startsWith("tree-view:")?e="list-unordered":t.startsWith("release-notes")?e="megaphone":t==="defaultWindowDimensions"?e="browser":t==="hasSeenDeprecatedNotification"?e="checklist":t==="history"?e="clock":t==="metrics.userId"?e="dashboard":e="database",`
    <div class="icon icon-${e}">
      ${t}
    </div>
  `}function yi(t){switch(t){case"true":return"success";case"false":return"error";case"null":return"warning";default:return"info"}}function Si(t){let e=t.length>1?"chars":"char";switch(t){case"true":return"true";case"false":return"false";case"null":return"null";case"[]":return"[]";case"{}":return"{}";default:return`${t.length} ${e}`}}function xi(){return atom.project.getPaths().length>0}function dt(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null}function ut(t){let e=atom.views.getView(t),i=dt(e,"atom-pane");if(i){let s=i.querySelector(`[data-name="${t.getTitle()}"]`).parentNode;s&&s.setAttribute("data-local-storage-pane","")}}function ft(){atom.workspace.getTextEditors().map(e=>{C.includes(e.id)&&ut(e)})}function ht(){atom.workspace.getTextEditors().map(e=>{if(C.includes(e.id)){let i=atom.views.getView(e),s=dt(i,"atom-pane");if(s){let n=s.querySelector(`[data-name="${e.getTitle()}"]`).parentNode;n&&n.removeAttribute("data-local-storage-pane")}}})}var ot,at,C,le=L(()=>{ot=U(require("os")),at=U(require("path"));Q();W();C=[]});fe(exports);he(exports,{default:()=>ki});var mt=U(require("atom"));le();Q();W();var Ii={config:k.schema,subscriptions:new mt.CompositeDisposable,async activate(){S.log("Activating package"),this.subscriptions.add(atom.commands.add("atom-workspace",{"local-storage:open-item":()=>ce("open")})),this.subscriptions.add(atom.commands.add("atom-workspace",{"local-storage:remove-item":()=>ce("remove")})),this.subscriptions.add(atom.commands.add("atom-workspace",{"local-storage:save-item":()=>de()})),atom.config.observe("local-storage.hideCloseIcon",t=>{t?ft():ht()})},deactivate(){S.log("Deactivating package"),this.subscriptions?.dispose()}},ki=Ii;0&&(module.exports={});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
//# sourceMappingURL=main.js.map
