module.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=9)}([function(e,t){e.exports=new Set(["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"])},function(e,t,i){const n=i(6),o=i(0);function s(e,t){let i;if(null!=e.text)i=document.createTextNode(e.text);else{const{tag:s,children:a}=e;let{props:l}=e;if("function"==typeof s){let n;l&&l.ref&&(n=l.ref);const o=new s(l||{},a);e.component=o,i=o.element,t&&t.refs&&n&&(t.refs[n]=o)}else o.has(s)?(i=document.createElementNS("http://www.w3.org/2000/svg",s),a&&r(i,a,t),l&&n(i,null,e,t)):(i=document.createElement(s),a&&r(i,a,t),l&&n(i,null,e,t))}return e.domNode=i,i}function r(e,t,i){for(let n=0;n<t.length;n++)e.appendChild(s(t[n],i))}e.exports=s},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("atom")},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});let s=[];function r(){if(!0===d("limitToDevMode")&&!1===atom.inDevMode())return u();const e=atom.workspace.getActiveTextEditor();if(null==e)return atom.beep();const t=e.getTitle();let i=e.getText();if("source.json"===e.getGrammar().scopeName&&(i=JSON.stringify(JSON.parse(i))),localStorage.getItem(t))return localStorage.setItem(t,i);{const e=atom.notifications.addInfo(`The item \`${t}\` is currently not in your localStorage. Are you sure you want to create a new item?`,{dismissable:!0,buttons:[{text:"Create Item",className:"icon icon-file-add",onDidClick:()=>{localStorage.setItem(t,i),e.dismiss()}},{text:"Cancel",onDidClick:()=>e.dismiss()}]})}}function a(e){if(!e)return;const t=document.querySelectorAll("[data-local-storage]");t.length&&t.forEach(e=>{const t=e.parentNode;t&&(t.style.display="none")});const i=document.querySelector(`[data-local-storage="${e.id}"]`);if(i&&i.parentNode){const t=i.parentNode;t&&(t.style.display=e&&s.includes(e.id)?"block":"none")}}function l(e){const{installedPackages:t,settingsView:i,treeView:n,releaseNotes:o,metricsID:s,emptyItems:r,nullItems:a}=d("filteredItems"),l=localStorage.getItem(e)||"";return!(!1!==t&&e.startsWith("installed-packages:")||!1!==i&&e.startsWith("settings-view:")||!1!==n&&e.startsWith("tree-view:")||!1!==o&&e.startsWith("release-notes:")||!1!==s&&"metrics.userId"===e||!1!==r&&["[]","{}",""].includes(l)||!1!==a&&"null"===l)||(d("debugMode")&&console.log(`Skipping '${e}'`),!1)}function c(e){const t=s.indexOf(e.id);s.splice(t,1);const i=document.querySelector(`[data-local-storage="${e.id}"`);i&&i.parentNode&&i.parentNode.removeChild(i),e.destroy()}function d(e=""){return atom.config.get(`local-storage.${e}`)}function u(){const e=atom.notifications.addWarning("This package works best when in Developer Mode. However, you can disable this limitation in the settings.",{dismissable:!0,buttons:[{text:"Open in Developer Mode",className:"icon icon-code",onDidClick:()=>{atom.commands.dispatch(atom.views.getView(atom.workspace),"application:open-dev"),e.dismiss()}},{text:"Open Settings",className:"icon icon-tools",onDidClick:()=>{atom.workspace.open("atom://config/packages/local-storage",{pending:!0,searchAllPanes:!0}),e.dismiss()}}]})}t.createListView=function(e){return n(this,void 0,void 0,(function*(){if(!0===d("limitToDevMode")&&!1===atom.inDevMode())return u();const{selectListView:t}=yield Promise.resolve().then(()=>o(i(10))),n=Object.keys(localStorage).filter(e=>l(e));if(void 0===n)return;const p=yield t(n);var h;if(void 0!==p)switch(e){case"open":h=p,atom.workspace.open(h).then(e=>{const t=d("debugMode");t&&console.log(`Opening '${h}' from localStorage`);let i=localStorage.getItem(h);if(i){if(d("detectJson")){let n;try{n=JSON.parse(i)}catch(e){t&&console.warn(`"${i}" is not an object`)}"object"==typeof n&&(e.setGrammar(atom.grammars.grammarForScopeName("source.json")),i=JSON.stringify(JSON.parse(i),null,2))}e.setText(i),function(e){if(!e)return atom.beep();s.includes(e.id)||s.push(e.id);const t=document.createElement("atom-panel");t.classList.add("padded","bg-primary","local-storage-controls"),t.setAttribute("data-local-storage",e.id.toString()),t.insertAdjacentHTML("beforeend",'\n    <div class=\'block\'>\n      <span class="inline-block-tight">\n      <i class="icon icon-alert"></i>\n      <strong></strong> To save changes back to localStorage, make sure to use the controls on the right</span>\n      <div class="inline-block-tight pull-right">\n        <button class="btn btn-primary icon icon-database">Save</button>\n        <button class="btn btn-default">Close</button>\n      </div>\n    </div>\n  '),t.querySelector(".btn-primary").addEventListener("click",r),t.querySelector(".btn-default").addEventListener("click",()=>{if(e.getText()===localStorage.getItem(e.getTitle()))return c(e);const t=atom.notifications.addInfo("This localStorage item has changes, do you really want to discard them?",{dismissable:!0,buttons:[{text:"Discard Changes",className:"icon icon-trashcan",onDidClick:()=>{c(e),t.dismiss()}},{text:"Cancel",onDidClick:()=>t.dismiss()}]})}),atom.workspace.addBottomPanel({item:t}),atom.workspace.onDidChangeActiveTextEditor(e=>a(e)),a(e)}(e)}}).catch(e=>{atom.notifications.addError(e.toString(),{dismissable:!0})});break;case"remove":!function(e){const t=atom.notifications.addWarning(`Do you really want to delete \`${e}\` from your localStorage?`,{dismissable:!0,buttons:[{text:"Remove Item",className:"icon icon-trashcan",onDidClick:()=>{localStorage.removeItem(e),t.dismiss()}},{text:"Cancel",onDidClick:()=>t.dismiss()}]})}(p)}}))},t.saveItem=r,t.filterKeys=l,t.getConfig=d,t.createHTML=function(e){const t=localStorage.getItem(e),i=function(e){if(!d("displayIcon"))return e;let t;t=e.startsWith("installed-packages:")?"package":e.startsWith("settings-view:")?"tools":e.startsWith("tree-view:")?"list-unordered":e.startsWith("release-notes")?"megaphone":"defaultWindowDimensions"===e?"browser":"hasSeenDeprecatedNotification"===e?"checklist":"history"===e?"clock":"metrics.userId"===e?"dashboard":"database";return`\n    <div class="icon icon-${t}">\n      ${e}\n    </div>\n  `}(e);if(d("displayBadge")){return`\n      ${i}\n      <div class="pull-right">\n        <code class="badge badge-${function(e){switch(e){case"true":return"success";case"false":return"error";case"null":case"null":return"warning";default:return"info"}}(t)}">${function(e){switch(e){case"true":return"true";case"false":return"false";case"null":return"null";case"[]":return"[]";case"{}":return"{}";default:const t=e.length>1?"chars":"char";return`${e.length} ${t}`}}(t)}</code>\n      </div>\n    `}return`${i}`}},function(e,t){e.exports={onCopy:"copy",onCut:"cut",onPaste:"paste",onCompositionEnd:"compositionend",onCompositionStart:"compositionstart",onCompositionUpdate:"compositionupdate",onKeyDown:"keydown",onKeyPress:"keypress",onKeyUp:"keyup",onFocus:"focus",onBlur:"blur",onChange:"change",onInput:"input",onSubmit:"submit",onClick:"click",onContextMenu:"contextmenu",onDoubleClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragEnter:"dragenter",onDragExit:"dragexit",onDragLeave:"dragleave",onDragOver:"dragover",onDragStart:"dragstart",onDrop:"drop",onMouseDown:"mousedown",onMouseEnter:"mouseenter",onMouseLeave:"mouseleave",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onSelect:"select",onTouchCancel:"touchcancel",onTouchEnd:"touchend",onTouchMove:"touchmove",onTouchStart:"touchstart",onScroll:"scroll",onWheel:"wheel",onAbort:"abort",onCanPlay:"canplay",onCanPlayThrough:"canplaythrough",onDurationChange:"durationchange",onEmptied:"emptied",onEncrypted:"encrypted",onEnded:"ended",onError:"error",onLoadedData:"loadeddata",onLoadedMetadata:"loadedmetadata",onLoadStart:"loadstart",onPause:"pause",onPlay:"play",onPlaying:"playing",onProgress:"progress",onRateChange:"ratechange",onSeeked:"seeked",onSeeking:"seeking",onStalled:"stalled",onSuspend:"suspend",onTimeUpdate:"timeupdate",onVolumeChange:"volumechange",onWaiting:"waiting",onLoad:"load",onAnimationStart:"animationstart",onAnimationEnd:"animationend",onAnimationIteration:"animationiteration",onTransitionEnd:"transitionend"}},function(e,t,i){const n=i(5),o=i(0),s=i(14);function r(e,t,i,n){if(t)for(var o in t)i&&o in i||(n?e[o]="":delete e[o]);if(i)for(var o in i){const n=t&&t[o],s=i[o];s!==n&&(e[o]=s)}}function a(e,t,i){if(t)for(var n in t)i&&n in i||e.removeAttribute(n);if(i)for(var n in i){const o=t&&t[n],s=i[n];s!==o&&e.setAttribute(n,s)}}e.exports=function(e,t,i,l){const c=t&&t.props,d=i.props;let u,p;l&&(u=l.refs,p=l.listenerContext),function e(t,i,l,c,d){if(l)for(var u in l)"ref"!==u&&"on"!==u&&(u in n||d&&u in d||("dataset"===u?e(t.dataset,null,l&&l.dataset,null,null):"innerHTML"!==u&&i&&o.has(i.tag)?t.removeAttribute(s.get(u)||u):(t[u]="",delete t[u])));if(d)for(var u in d)if("ref"!==u&&"on"!==u&&!(u in n)){var p=l&&l[u],h=d[u];"dataset"===u?r(t.dataset,p,h,!1):"style"===u&&"string"!=typeof h?("string"==typeof p&&(t.style="",p=null),r(t.style,p,h,!0)):"attributes"===u?a(t,p,h):h!==p&&("innerHTML"!==u&&c&&o.has(c.tag)?t.setAttribute(s.get(u)||u,h):c&&"input"===c.tag&&"value"===u&&t[u]===h||(t[u]=h))}}(e,t,c,i,d),u&&function(e,t,i,n){i!==t&&(t&&n[t]===e&&delete n[t],i&&(n[i]=e))}(e,c&&c.ref,d&&d.ref,u),function(e,t,i,n){const o=t&&t.props&&t.props.on,s=i.props&&i.props.on;for(const i in o)if(!(s&&i in s)){let n;n=t&&t.boundListeners&&t.boundListeners[i]?t.boundListeners[i]:o[i],e.removeEventListener(i,n)}for(const r in s){const a=o&&o[r],l=s[r];if(l!==a){if(a){let i;i=t&&t.boundListeners&&t.boundListeners[r]?t.boundListeners[r]:a,e.removeEventListener(r,i)}if(l){let t;n?(t=l.bind(n),i.boundListeners||(i.boundListeners={}),i.boundListeners[r]=t):t=l,e.addEventListener(r,t)}}}}(e,t,i,p)}},function(e,t,i){const n=i(17);let o=null;e.exports.setScheduler=function(e){o=e},e.exports.getScheduler=function(){return o||(o=new n),o}},function(e,t,i){(function(){var e,n;e=i(2).sep,t.basenameScore=function(i,n,o){var s,r,a,l,c;for(r=i.length-1;i[r]===e;)r--;for(c=0,a=r,s=null;r>=0;)i[r]===e?(c++,null==s&&(s=i.substring(r+1,a+1))):0===r&&(a<i.length-1?null==s&&(s=i.substring(0,a+1)):null==s&&(s=i)),r--;return s===i?o*=2:s&&(o+=t.score(s,n)),l=c+1,o*=.01*Math.max(1,10-l)},t.score=function(t,i){var o,s,r,a,l,c,d,u,p,h,m,f;if(t===i)return 1;if(n(t,i))return 1;for(h=0,d=i.length,p=t.length,r=0,a=0;r<d;){if(o=i[r++],l=t.indexOf(o.toLowerCase()),m=t.indexOf(o.toUpperCase()),-1===(c=Math.min(l,m))&&(c=Math.max(l,m)),-1===(a=c))return 0;s=.1,t[a]===o&&(s+=.1),0===a||t[a-1]===e?s+=.8:"-"!==(f=t[a-1])&&"_"!==f&&" "!==f||(s+=.7),t=t.substring(a+1,p),h+=s}return((u=h/d)*(d/p)+u)/2},n=function(t,i){if(t[t.length-i.length-1]===e)return t.lastIndexOf(i)===t.length-i.length}}).call(this)},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const o=i(3),s=i(4);var r=i(21);let a;t.config=r.config,t.activate=function(){return n(this,void 0,void 0,(function*(){a=new o.CompositeDisposable,a.add(atom.commands.add("atom-workspace",{"local-storage:open-item":()=>s.createListView("open")})),a.add(atom.commands.add("atom-workspace",{"local-storage:remove-item":()=>s.createListView("remove")})),a.add(atom.commands.add("atom-workspace",{"local-storage:save-item":()=>s.saveItem()}))}))},t.deactivate=function(){a&&a.dispose()}},function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,s){function r(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(i(11)),r=i(4);t.selectListView=function(e){return n(this,void 0,void 0,(function*(){let t;const i=document.activeElement;try{return yield new Promise(i=>{const n=new s.default({items:e,elementForItem:e=>{const t=document.createElement("li");return t.innerHTML=r.createHTML(e),t},didCancelSelection:()=>{i()},didConfirmSelection:e=>{i(e)}});t=atom.workspace.addModalPanel({item:n,visible:!0}),n.focus()})}finally{t&&t.destroy(),i&&i.focus()}}))}},function(e,t,i){const{Disposable:n,CompositeDisposable:o,TextEditor:s}=i(3),r=i(12),a=r.dom,l=i(18);e.exports=class{static setScheduler(e){r.setScheduler(e)}static getScheduler(e){return r.getScheduler()}constructor(e){this.props=e,this.props.hasOwnProperty("initialSelectionIndex")||(this.props.initialSelectionIndex=0),e.initiallyVisibleItemCount&&this.initializeVisibilityObserver(),this.computeItems(!1),this.disposables=new o,r.initialize(this),this.element.classList.add("select-list"),this.disposables.add(this.refs.queryEditor.onDidChange(this.didChangeQuery.bind(this))),e.skipCommandsRegistration||this.disposables.add(this.registerAtomCommands());const t=this.refs.queryEditor.element,i=this.didLoseFocus.bind(this);t.addEventListener("blur",i),this.didClickItemsList=!1,this.element.addEventListener("mousedown",e=>{e.target===this.refs.items&&(this.didClickItemsList=!0)}),this.disposables.add(new n(()=>{t.removeEventListener("blur",i)}))}initializeVisibilityObserver(){this.visibilityObserver=new IntersectionObserver(e=>{for(const t of e)if(t.intersectionRatio>0){const e=t.target;this.visibilityObserver.unobserve(e);const i=Array.from(this.refs.items.children).indexOf(e);i>=0&&this.renderItemAtIndex(i)}})}focus(){this.refs.queryEditor.element.focus()}didLoseFocus(e){this.didClickItemsList||this.element.contains(e.relatedTarget)?(this.didClickItemsList=!1,this.refs.queryEditor.element.focus()):document.hasFocus()&&this.cancelSelection()}reset(){this.refs.queryEditor.setText("")}destroy(){return this.disposables.dispose(),this.visibilityObserver&&this.visibilityObserver.disconnect(),r.destroy(this)}registerAtomCommands(){return global.atom.commands.add(this.element,{"core:move-up":e=>{this.selectPrevious(),e.stopPropagation()},"core:move-down":e=>{this.selectNext(),e.stopPropagation()},"core:move-to-top":e=>{this.selectFirst(),e.stopPropagation()},"core:move-to-bottom":e=>{this.selectLast(),e.stopPropagation()},"core:confirm":e=>{this.confirmSelection(),e.stopPropagation()},"core:cancel":e=>{this.cancelSelection(),e.stopPropagation()}})}update(e={}){let t=!1;return e.hasOwnProperty("items")&&(this.props.items=e.items,t=!0),e.hasOwnProperty("maxResults")&&(this.props.maxResults=e.maxResults,t=!0),e.hasOwnProperty("filter")&&(this.props.filter=e.filter,t=!0),e.hasOwnProperty("filterQuery")&&(this.props.filterQuery=e.filterQuery,t=!0),e.hasOwnProperty("query")&&(this.refs.queryEditor.setText(e.query),t=!1),e.hasOwnProperty("selectQuery")&&(e.selectQuery?this.refs.queryEditor.selectAll():this.refs.queryEditor.clearSelections()),e.hasOwnProperty("order")&&(this.props.order=e.order),e.hasOwnProperty("emptyMessage")&&(this.props.emptyMessage=e.emptyMessage),e.hasOwnProperty("errorMessage")&&(this.props.errorMessage=e.errorMessage),e.hasOwnProperty("infoMessage")&&(this.props.infoMessage=e.infoMessage),e.hasOwnProperty("loadingMessage")&&(this.props.loadingMessage=e.loadingMessage),e.hasOwnProperty("loadingBadge")&&(this.props.loadingBadge=e.loadingBadge),e.hasOwnProperty("itemsClassList")&&(this.props.itemsClassList=e.itemsClassList),e.hasOwnProperty("initialSelectionIndex")&&(this.props.initialSelectionIndex=e.initialSelectionIndex),t&&this.computeItems(),r.update(this)}render(){return a.div({},a(s,{ref:"queryEditor",mini:!0}),this.renderLoadingMessage(),this.renderInfoMessage(),this.renderErrorMessage(),this.renderItems())}renderItems(){if(this.items.length>0){const e=["list-group"].concat(this.props.itemsClassList||[]).join(" ");return this.visibilityObserver&&r.getScheduler().updateDocument(()=>{Array.from(this.refs.items.children).slice(this.props.initiallyVisibleItemCount).forEach(e=>{this.visibilityObserver.observe(e)})}),this.listItems=this.items.map((e,t)=>{const i=this.getSelectedItem()===e,n=!this.props.initiallyVisibleItemCount||t<this.props.initiallyVisibleItemCount;return a(c,{element:this.props.elementForItem(e,{selected:i,index:t,visible:n}),selected:i,onclick:()=>this.didClickItem(t)})}),a.ol({className:e,ref:"items"},...this.listItems)}return!this.props.loadingMessage&&this.props.emptyMessage?a.span({ref:"emptyMessage"},this.props.emptyMessage):""}renderErrorMessage(){return this.props.errorMessage?a.span({ref:"errorMessage"},this.props.errorMessage):""}renderInfoMessage(){return this.props.infoMessage?a.span({ref:"infoMessage"},this.props.infoMessage):""}renderLoadingMessage(){return this.props.loadingMessage?a.div({className:"loading"},a.span({ref:"loadingMessage",className:"loading-message"},this.props.loadingMessage),this.props.loadingBadge?a.span({ref:"loadingBadge",className:"badge"},this.props.loadingBadge):""):""}getQuery(){return this.refs&&this.refs.queryEditor?this.refs.queryEditor.getText():""}getFilterQuery(){return this.props.filterQuery?this.props.filterQuery(this.getQuery()):this.getQuery()}didChangeQuery(){this.props.didChangeQuery&&this.props.didChangeQuery(this.getFilterQuery()),this.computeItems()}didClickItem(e){this.selectIndex(e),this.confirmSelection()}computeItems(e){this.listItems=null,this.visibilityObserver&&this.visibilityObserver.disconnect();const t=this.props.filter||this.fuzzyFilter.bind(this);this.items=t(this.props.items.slice(),this.getFilterQuery()),this.props.order&&this.items.sort(this.props.order),this.props.maxResults&&(this.items=this.items.slice(0,this.props.maxResults)),this.selectIndex(this.props.initialSelectionIndex,e)}fuzzyFilter(e,t){if(0===t.length)return e;{const i=[];for(const n of e){const e=this.props.filterKeyForItem?this.props.filterKeyForItem(n):n;let o=l.score(e,t);o>0&&i.push({item:n,score:o})}return i.sort((e,t)=>t.score-e.score),i.map(e=>e.item)}}getSelectedItem(){return void 0===this.selectionIndex?null:this.items[this.selectionIndex]}renderItemAtIndex(e){const t=this.items[e],i=this.getSelectedItem()===t,n=this.listItems[e].component;this.visibilityObserver&&this.visibilityObserver.unobserve(n.element),n.update({element:this.props.elementForItem(t,{selected:i,index:e,visible:!0}),selected:i,onclick:()=>this.didClickItem(e)})}selectPrevious(){return void 0===this.selectionIndex?this.selectLast():this.selectIndex(this.selectionIndex-1)}selectNext(){return void 0===this.selectionIndex?this.selectFirst():this.selectIndex(this.selectionIndex+1)}selectFirst(){return this.selectIndex(0)}selectLast(){return this.selectIndex(this.items.length-1)}selectNone(){return this.selectIndex(void 0)}selectIndex(e,t=!0){e>=this.items.length?e=0:e<0&&(e=this.items.length-1);const i=this.selectionIndex;return this.selectionIndex=e,void 0!==e&&this.props.didChangeSelection&&this.props.didChangeSelection(this.getSelectedItem()),t?this.listItems?(i>=0&&this.renderItemAtIndex(i),e>=0&&this.renderItemAtIndex(e),r.getScheduler().getNextUpdatePromise()):r.update(this):Promise.resolve()}selectItem(e){const t=this.items.indexOf(e);if(-1===t)throw new Error("Cannot select the specified item because it does not exist.");return this.selectIndex(t)}confirmSelection(){const e=this.getSelectedItem();null!=e?this.props.didConfirmSelection&&this.props.didConfirmSelection(e):this.props.didConfirmEmptySelection&&this.props.didConfirmEmptySelection()}cancelSelection(){this.props.didCancelSelection&&this.props.didCancelSelection()}};class c{constructor(e){this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.didClick=this.didClick.bind(this),this.selected=e.selected,this.onclick=e.onclick,this.element=e.element,this.element.addEventListener("mousedown",this.mouseDown),this.element.addEventListener("mouseup",this.mouseUp),this.element.addEventListener("click",this.didClick),this.selected&&this.element.classList.add("selected"),this.domEventsDisposable=new n(()=>{this.element.removeEventListener("mousedown",this.mouseDown),this.element.removeEventListener("mouseup",this.mouseUp),this.element.removeEventListener("click",this.didClick)}),r.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))}mouseDown(e){e.preventDefault()}mouseUp(e){e.preventDefault()}didClick(e){e.preventDefault(),this.onclick()}destroy(){this.element.remove(),this.domEventsDisposable.dispose()}update(e){this.element.removeEventListener("mousedown",this.mouseDown),this.element.removeEventListener("mouseup",this.mouseUp),this.element.removeEventListener("click",this.didClick),this.element.parentNode.replaceChild(e.element,this.element),this.element=e.element,this.element.addEventListener("mousedown",this.mouseDown),this.element.addEventListener("mouseup",this.mouseUp),this.element.addEventListener("click",this.didClick),e.selected&&this.element.classList.add("selected"),this.selected=e.selected,this.onclick=e.onclick,r.getScheduler().updateDocument(this.scrollIntoViewIfNeeded.bind(this))}scrollIntoViewIfNeeded(){this.selected&&this.element.scrollIntoViewIfNeeded(!1)}}},function(e,t,i){const n=i(13),o=i(1),{initialize:s,update:r,updateSync:a,destroy:l,destroySync:c}=i(15),{setScheduler:d,getScheduler:u}=i(7);e.exports={dom:n,render:o,initialize:s,update:r,updateSync:a,destroy:l,destroySync:c,setScheduler:d,getScheduler:u}},function(e,t,i){const n=i(5),o=i(0);function s(e,t,...i){for(let e=0;e<i.length;){const t=i[e];switch(typeof t){case"string":case"number":i[e]={text:t},e++;break;case"object":Array.isArray(t)?i.splice(e,1,...t):t?e++:i.splice(e,1);break;default:throw new Error(`Invalid child node: ${t}`)}}if(t){for(const e in t){const i=n[e];i&&(t.on||(t.on={}),t.on[i]=t[e])}t.class&&(t.className=t.class)}return{tag:e,props:t,children:i}}const r=["a","abbr","address","article","aside","audio","b","bdi","bdo","blockquote","body","button","canvas","caption","cite","code","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","html","i","iframe","ins","kbd","label","legend","li","main","map","mark","menu","meter","nav","noscript","object","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","u","ul","var","video","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];for(const e of r)s[e]=(t,...i)=>s(e,t,...i);for(const e of o)s[e]=(t,...i)=>s(e,t,...i);e.exports=s},function(e,t){e.exports=new Map([["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["className","class"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["panose1","panose-1"],["paintOrder","paint-order"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xHeight","x-height"]])},function(e,t,i){const n=i(1),o=i(16),{getScheduler:s}=i(7),r=new WeakSet;let a=0,l=0;function c(e){return null!=e&&!1!==e}function d(e,t=!0){if(!c(e.virtualNode))throw new Error(`${e.constructor?e.constructor.name+" instance":e} is not associated with a valid virtualNode. Perhaps this component was never initialized?`);if(null==e.element)throw new Error(`${e.constructor?e.constructor.name+" instance":e} is not associated with a DOM element. Perhaps this component was never initialized?`);let i=e.render();if(!c(i)){const t=e.constructor&&e.constructor.name?" in "+e.constructor.name:"";throw new Error("invalid falsy value "+i+" returned from render()"+t)}a++;let n=e.virtualNode,r=e.element,l=o(n,i,{refs:e.refs,listenerContext:e});if(e.virtualNode=i,l!==r&&!t)throw new Error("The root node type changed on update, but the update was performed with the replaceNode option set to false");e.element=l,"function"==typeof e.writeAfterUpdate&&e.writeAfterUpdate(),"function"==typeof e.readAfterUpdate&&s().readDocument((function(){e.readAfterUpdate()})),a--}function u(e,t=!0){l++,p(e.virtualNode),1===l&&t&&e.element.remove(),l--}function p(e){e.component&&"function"==typeof e.component.destroy?e.component.destroy():e.children&&e.children.forEach(p)}e.exports={initialize:function(e){if("function"!=typeof e.update)throw new Error("Etch components must implement `update(props, children)`.");let t=e.render();if(!c(t)){let i=e.constructor&&e.constructor.name?" in "+e.constructor.name:"";throw new Error("invalid falsy value "+t+" returned from render()"+i)}e.refs={},e.virtualNode=t,e.element=n(e.virtualNode,{refs:e.refs,listenerContext:e})},update:function(e,t=!0){if(a>0)return d(e,t),Promise.resolve();let i=s();return r.has(e)||(r.add(e),i.updateDocument((function(){r.delete(e),d(e,t)}))),i.getNextUpdatePromise()},updateSync:d,destroy:function(e,t=!0){if(a>0||l>0)return u(e,t),Promise.resolve();let i=s();return i.updateDocument((function(){u(e,t)})),i.getNextUpdatePromise()},destroySync:u}},function(e,t,i){const n=i(1),o=i(6);function s(e,t,i){const u=e.domNode;if(t===e)return u;if(l(e,t)){let p;return null!=t.text?(u.nodeValue=t.text,p=u):"function"==typeof t.tag?p=function(e,t,i){const{component:n,props:o}=e;let{props:s,children:r}=t;if(t.component=n,i&&i.refs){const e=i.refs,t=o&&o.ref,r=s&&s.ref;r!==t&&(t&&e[t]===n&&delete e[t],r&&(e[r]=n))}return n.update(s||{},r),n.element}(e,t,i):(!function(e,t,i,o){var u,p=0,h=t.length-1,m=t[0],f=t[h],g=0,y=i.length-1,v=i[0],b=i[y];for(;p<=h&&g<=y;)if(m)if(f)if(l(m,v))s(m,v,o),m=t[++p],v=i[++g];else if(l(f,b))s(f,b,o),f=t[--h],b=i[--y];else if(l(m,b))s(m,b,o),e.insertBefore(m.domNode,f.domNode.nextSibling),m=t[++p],b=i[--y];else if(l(f,v))s(f,v,o),e.insertBefore(f.domNode,m.domNode),f=t[--h],v=i[++g];else{u||(r.length>0?(u=r.pop()).clear():u=new Map,d(u,t,p,h));var w=c(v),x=w?u.get(w):null;if(null==x)e.insertBefore(n(v,o),m.domNode),v=i[++g];else{var k=t[x];s(k,v,o),t[x]=void 0,e.insertBefore(k.domNode,m.domNode),v=i[++g]}}else f=t[--h];else m=t[++p];if(p>h){var S=i[y+1]?i[y+1].domNode:null;for(let t=g;t<=y;t++)e.insertBefore(n(i[t],o),S)}else if(g>y)for(let e=p;e<=h;e++){var I=t[e];I&&a(I,o&&o.refs)}u&&r.push(u)}(u,e.children,t.children,i),o(u,e,t,i),p=u),t.domNode=p,p!==u&&u.parentNode&&u.parentNode.replaceChild(p,u),p}{const o=u.parentNode,s=u.nextSibling;a(e,i&&i.refs);const r=n(t,i);return o&&o.insertBefore(r,s),t.domNode=r,r}}let r=[new Map,new Map,new Map,new Map];function a(e,t,i=!0){const{domNode:n,props:o,children:s,component:r}=e,l=o&&o.ref;if(r)t&&l&&t[l]===r&&delete t[l],r.destroy&&r.destroy();else if(t&&l&&t[l]===n&&delete t[l],s)for(let e=0;e<s.length;e++)a(s[e],t,!1);i&&n.remove()}function l(e,t){return c(e)===c(t)&&e.tag===t.tag}function c(e){return e.props?e.props.key:void 0}function d(e,t,i,n){for(let o=i;o<=n;o++){const i=c(t[o]);i&&e.set(i,o)}return e}e.exports=s},function(e,t){e.exports=class{constructor(){this.updateRequests=[],this.readRequests=[],this.pendingAnimationFrame=null,this.performUpdates=this.performUpdates.bind(this),this.performingUpdates=!1}updateDocument(e){this.updateRequests.push(e),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}readDocument(e){this.readRequests.push(e),this.pendingAnimationFrame||(this.pendingAnimationFrame=window.requestAnimationFrame(this.performUpdates))}getNextUpdatePromise(){return this.nextUpdatePromise||(this.nextUpdatePromise=new Promise(e=>{this.resolveNextUpdatePromise=e})),this.nextUpdatePromise}performUpdates(){for(;this.updateRequests.length>0;)this.updateRequests.shift()();for(this.pendingAnimationFrame=null;this.readRequests.length>0;)this.readRequests.shift()();if(this.nextUpdatePromise){let e=this.resolveNextUpdatePromise;this.nextUpdatePromise=null,this.resolveNextUpdatePromise=null,e()}}}},function(e,t,i){(function(){var t,n,o,s,r;r=i(8),o=i(19),s=i(20),t=i(2).sep,n=/\ /g,e.exports={filter:function(e,i,s){var r;return i&&(r=-1!==i.indexOf(t),i=i.replace(n,"")),o(e,i,r,s)},score:function(e,i){var o,s;return e&&i?e===i?2:(o=-1!==i.indexOf(t),i=i.replace(n,""),s=r.score(e,i),o||(s=r.basenameScore(e,i,s)),s):0},match:function(e,i){var o,r,a,l,c,d;if(!e)return[];if(!i)return[];if(e===i)return function(){d=[];for(var t=0,i=e.length;0<=i?t<i:t>i;0<=i?t++:t--)d.push(t);return d}.apply(this);if(l=-1!==i.indexOf(t),i=i.replace(n,""),a=s.match(e,i),!l)for(o=s.basenameMatch(e,i),a=a.concat(o).sort((function(e,t){return e-t})),c=null,r=0;r<a.length;)r&&c===a[r]?a.splice(r,1):(c=a[r],r++);return a}}}).call(this)},function(e,t,i){(function(){var t,n,o;n=i(8),t=function(e){return e.candidate},o=function(e,t){return t.score-e.score},e.exports=function(e,i,s,r){var a,l,c,d,u,p,h,m,f;if(l=(f=null!=r?r:{}).key,c=f.maxResults,i){for(u=[],h=0,m=e.length;h<m;h++)a=e[h],(p=null!=l?a[l]:a)&&(d=n.score(p,i,s),s||(d=n.basenameScore(p,i,d)),d>0&&u.push({candidate:a,score:d}));u.sort(o),e=u.map(t)}return null!=c&&(e=e.slice(0,c)),e}}).call(this)},function(e,t,i){(function(){var e;e=i(2).sep,t.basenameMatch=function(i,n){var o,s,r;for(s=i.length-1;i[s]===e;)s--;for(0,r=s,o=null;s>=0;)i[s]===e?(null==o&&(o=i.substring(s+1,r+1))):0===s&&(r<i.length-1?null==o&&(o=i.substring(0,r+1)):null==o&&(o=i)),s--;return t.match(o,n,i.length-o.length)},t.match=function(e,t,i){var n,o,s,r,a,l,c,d,u,p;if(null==i&&(i=0),e===t)return function(){p=[];for(var t=i,n=i+e.length;i<=n?t<n:t>n;i<=n?t++:t--)p.push(t);return p}.apply(this);for(c=t.length,d=e.length,o=0,s=0,a=[];o<c;){if(n=t[o++],r=e.indexOf(n.toLowerCase()),u=e.indexOf(n.toUpperCase()),-1===(l=Math.min(r,u))&&(l=Math.max(r,u)),-1===(s=l))return[];a.push(i+s),i+=s+1,e=e.substring(s+1,d)}return a}}).call(this)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.config={limitToDevMode:{title:"Limit to Developer Mode",description:"This package only works *reliably* in Developer Mode. For testing purposes, you can remove this limitation.",type:"boolean",default:!0,order:1},detectJson:{title:"Auto-detect JSON",description:"If the the opened item is valid JSON, prettifies output and applies syntax highlighter",type:"boolean",default:!0,order:2},displayIcon:{title:"Display Icon",description:"Displays icons in list view for improved visual grepping",type:"boolean",default:!0,order:3},displayBadge:{title:"Display Badge",description:"Displays badge showing item details, e.g. character length",type:"boolean",default:!0,order:4},debugMode:{title:"Debug Mode",description:"Specifies whether to log all actions to console",type:"boolean",default:!1,order:5},filteredItems:{title:"Filtered Items",type:"object",order:6,properties:{installedPackages:{title:"Installed Packages",description:"Filter all keys in your storage starting with `installed-packages:`",type:"boolean",default:!0,order:1},settingsView:{title:"Settings View",description:"Filter all keys in your storage starting with `settings-view:`",type:"boolean",default:!0,order:2},treeView:{title:"Tree View",description:"Filter all keys in your storage starting with `tree-view:`",type:"boolean",default:!0,order:3},releaseNotes:{title:"Release Notes",description:"Filter all keys in your storage starting with `release-notes:`",type:"boolean",default:!0,order:4},metricsID:{title:"Metrics User ID",description:"Filter storage key for `metrics.userId`",type:"boolean",default:!0,order:5},emptyItems:{title:"Empty Items",description:"Filter all zero-length items",type:"boolean",default:!0,order:6},nullItems:{title:"Null Items",description:"Filter all null items",type:"boolean",default:!0,order:7}}}}}]);
//# sourceMappingURL=main.js.map